<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>McMinnville TSP Update - Project Area Map</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<style>
  body { margin: 0; padding: 0; font-family: 'Segoe UI', Arial, sans-serif; }
  #map { width: 100%; height: 100vh; }
  .info-panel {
    position: absolute; top: 10px; right: 10px; z-index: 1000;
    background: rgba(20,20,30,0.92); color: #e0e0e0; padding: 14px 16px;
    border-radius: 8px; max-width: 300px; font-size: 13px; line-height: 1.5;
    box-shadow: 0 2px 12px rgba(0,0,0,0.4);
  }
  .info-panel h3 { margin: 0 0 6px 0; color: #fff; font-size: 15px; }
  .info-panel .subtitle { color: #9aa; font-size: 11px; margin-bottom: 8px; }
  .legend { margin-top: 10px; }
  .legend-item { display: flex; align-items: center; margin: 4px 0; font-size: 12px; }
  .legend-swatch {
    width: 18px; height: 12px; margin-right: 8px; border-radius: 2px;
    flex-shrink: 0; border: 1px solid rgba(255,255,255,0.2);
  }
  .legend-line {
    width: 18px; height: 0; margin-right: 8px; flex-shrink: 0;
    border-top: 3px solid;
  }
  .popup-title { font-weight: 600; font-size: 14px; margin-bottom: 4px; }
  .popup-desc { font-size: 12px; color: #555; }
  .leaflet-control-layers { font-size: 13px; }
</style>
</head>
<body>
<div id="map"></div>
<div class="info-panel">
  <h3>McMinnville TSP Update</h3>
  <div class="subtitle">Transportation System Plan | Project Area Map</div>
  <div style="font-size:12px; color:#bcc;">
    Click any feature for details.<br>
    Use layer controls to toggle visibility.
  </div>
  <div class="legend">
    <div class="legend-item"><div class="legend-swatch" style="background:rgba(65,175,168,0.5); border-color:#41afa8;"></div>Growth Areas</div>
    <div class="legend-item"><div class="legend-swatch" style="background:rgba(255,250,237,0.3); border-color:#ffe0a0;"></div>City Boundary</div>
    <div class="legend-item"><div class="legend-line" style="border-color:#e8e8e8;"></div>Urban Growth Boundary</div>
    <div class="legend-item"><div class="legend-line" style="border-color:#f0c040; border-style:dashed;"></div>Key Corridors</div>
  </div>
</div>
<script>
var map = L.map('map', {
  center: [45.2100, -123.1920],
  zoom: 13,
  zoomControl: true
});

// Dark basemap without labels
L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png', {
  attribution: '&copy; CARTO',
  maxZoom: 19
}).addTo(map);

// Labels layer (always on)
var labels = L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png', {
  maxZoom: 19
}).addTo(map);

// OSM street overlay
var streets = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '&copy; OSM',
  maxZoom: 19,
  opacity: 0.3
});

// === DATA ===
var ugbCoords = [[45.229634, -123.150794], [45.229597, -123.150603], [45.229535, -123.150516], [45.229511, -123.150428], [45.229511, -123.150306], [45.229499, -123.150097], [45.229535, -123.149923], [45.229548, -123.149749], [45.229572, -123.149557], [45.229585, -123.149383], [45.229585, -123.149261], [45.229646, -123.149017], [45.229658, -123.148912], [45.229671, -123.148842], [45.229683, -123.148598], [45.229683, -123.148546], [45.229658, -123.148319], [45.229621, -123.148163], [45.22956, -123.148006], [45.229486, -123.147814], [45.229462, -123.147727], [45.229437, -123.147657], [45.229388, -123.147535], [45.229302, -123.147413], [45.229229, -123.147308], [45.228799, -123.146977], [45.22848, -123.146559], [45.228099, -123.146315], [45.227903, -123.14621], [45.227633, -123.146036], [45.227449, -123.145914], [45.22708, -123.14567], [45.226982, -123.1456], [45.226847, -123.145565], [45.226749, -123.145496], [45.226553, -123.145391], [45.226491, -123.145321], [45.226332, -123.145165], [45.226135, -123.14506], [45.226037, -123.145043], [45.225656, -123.144886], [45.225595, -123.144781], [45.225558, -123.144799], [45.225141, -123.145548], [45.225055, -123.145775], [45.224969, -123.145931], [45.224723, -123.146542], [45.224674, -123.146751], [45.224564, -123.147082], [45.224552, -123.147152], [45.224441, -123.147413], [45.224429, -123.147535], [45.22438, -123.147622], [45.224257, -123.147814], [45.224257, -123.14818], [45.224343, -123.158289], [45.226111, -123.158272], [45.226332, -123.158254], [45.226491, -123.158342], [45.226479, -123.158464], [45.226454, -123.15869], [45.226442, -123.158812], [45.22643, -123.159056], [45.226417, -123.159283], [45.226381, -123.159963], [45.226356, -123.160485], [45.226344, -123.160799], [45.22093, -123.160764], [45.220918, -123.159352], [45.220868, -123.152869], [45.219813, -123.152851], [45.219813, -123.147744], [45.219813, -123.147518], [45.219407, -123.1475], [45.21915, -123.1475], [45.218904, -123.1475], [45.218781, -123.147518], [45.218376, -123.147552], [45.21791, -123.147657], [45.217639, -123.147727], [45.217492, -123.147779], [45.217394, -123.147814], [45.217283, -123.147849], [45.217136, -123.147918], [45.216989, -123.147971], [45.216903, -123.148023], [45.216829, -123.148058], [45.216817, -123.148058], [45.21678, -123.148075], [45.216633, -123.148145], [45.21662, -123.148163], [45.216363, -123.148302], [45.216142, -123.148441], [45.215933, -123.148581], [45.215786, -123.148703], [45.215466, -123.148947], [45.215208, -123.149173], [45.214865, -123.149522], [45.214595, -123.149818], [45.2143, -123.150167], [45.21403, -123.150533], [45.21387, -123.15076], [45.213747, -123.150969], [45.213575, -123.15123], [45.213403, -123.151544], [45.213232, -123.151892], [45.21306, -123.152241], [45.212863, -123.152677], [45.212654, -123.153235], [45.21247, -123.153827], [45.212311, -123.154402], [45.212176, -123.155012], [45.212077, -123.155553], [45.212028, -123.155901], [45.211967, -123.156407], [45.211955, -123.156616], [45.21193, -123.156947], [45.211918, -123.157156], [45.211905, -123.157348], [45.211905, -123.157453], [45.211905, -123.157592], [45.211893, -123.157609], [45.211893, -123.157644], [45.211881, -123.157662], [45.211856, -123.157679], [45.211832, -123.157697], [45.21209, -123.157627], [45.212176, -123.157609], [45.212212, -123.158586], [45.212225, -123.159248], [45.212286, -123.159527], [45.212593, -123.159544], [45.213158, -123.159788], [45.214214, -123.161148], [45.215429, -123.164163], [45.21554, -123.164581], [45.215601, -123.164843], [45.215675, -123.165366], [45.215675, -123.166255], [45.215749, -123.167022], [45.215724, -123.167579], [45.215601, -123.168242], [45.21538, -123.168834], [45.215135, -123.169375], [45.214889, -123.169863], [45.214509, -123.17049], [45.214472, -123.17056], [45.214288, -123.170874], [45.214189, -123.171187], [45.214189, -123.171205], [45.214116, -123.171362], [45.213882, -123.171867], [45.21376, -123.171989], [45.213624, -123.172355], [45.213514, -123.172651], [45.21344, -123.172773], [45.213367, -123.172878], [45.213305, -123.173052], [45.21317, -123.173157], [45.213047, -123.173227], [45.212961, -123.173383], [45.212765, -123.173436], [45.212667, -123.17354], [45.212519, -123.173593], [45.212421, -123.173628], [45.212311, -123.173645], [45.212163, -123.173628], [45.211991, -123.173575], [45.211881, -123.173505], [45.21177, -123.173366], [45.211709, -123.172965], [45.211697, -123.172739], [45.211672, -123.172477], [45.211648, -123.172285], [45.211439, -123.171989], [45.21139, -123.171902], [45.211304, -123.171832], [45.211242, -123.171815], [45.211144, -123.171815], [45.211034, -123.171867], [45.210948, -123.171937], [45.210702, -123.172338], [45.210653, -123.172529], [45.210604, -123.172651], [45.210456, -123.17307], [45.210186, -123.173575], [45.209707, -123.173715], [45.209229, -123.173697], [45.208222, -123.172773], [45.20649, -123.171553], [45.205876, -123.171222], [45.205385, -123.170752], [45.205397, -123.170595], [45.205397, -123.169566], [45.205385, -123.166656], [45.205397, -123.166551], [45.205974, -123.166568], [45.205962, -123.162856], [45.205962, -123.16195], [45.205937, -123.161723], [45.205716, -123.161514], [45.205557, -123.161357], [45.205446, -123.161008], [45.205348, -123.160695], [45.205422, -123.160329], [45.205397, -123.159841], [45.205373, -123.159387], [45.20536, -123.159039], [45.205336, -123.158586], [45.205471, -123.158272], [45.205569, -123.157871], [45.205618, -123.157592], [45.205348, -123.157435], [45.204869, -123.157017], [45.204636, -123.156546], [45.204366, -123.155971], [45.204341, -123.155936], [45.203629, -123.155047], [45.203629, -123.154019], [45.203002, -123.154019], [45.202585, -123.152747], [45.20148, -123.152729], [45.201455, -123.145757], [45.203137, -123.145705], [45.20315, -123.150951], [45.206232, -123.150916], [45.206159, -123.145966], [45.205606, -123.145984], [45.205606, -123.145478], [45.206159, -123.145461], [45.206048, -123.138088], [45.206036, -123.137461], [45.206011, -123.135299], [45.20595, -123.131395], [45.205913, -123.129059], [45.205459, -123.129164], [45.203838, -123.129181], [45.202216, -123.129251], [45.199257, -123.129269], [45.197341, -123.129635], [45.186408, -123.131308], [45.185684, -123.131639], [45.18943, -123.148145], [45.18889, -123.148825], [45.187514, -123.150132], [45.187367, -123.150533], [45.187342, -123.151143], [45.187526, -123.152171], [45.187551, -123.152555], [45.187809, -123.152747], [45.188153, -123.152729], [45.188484, -123.152555], [45.188853, -123.152433], [45.189258, -123.152415], [45.189479, -123.152572], [45.189602, -123.152938], [45.189701, -123.153566], [45.18975, -123.154315], [45.189701, -123.155082], [45.189713, -123.155483], [45.18986, -123.155622], [45.19061, -123.155448], [45.191015, -123.155396], [45.191383, -123.1555], [45.191715, -123.15571], [45.191998, -123.155954], [45.19217, -123.156215], [45.192341, -123.156616], [45.19244, -123.157017], [45.193103, -123.156999], [45.194331, -123.157017], [45.193852, -123.158899], [45.194712, -123.158899], [45.194675, -123.164337], [45.197697, -123.164303], [45.197684, -123.16981], [45.197328, -123.16981], [45.197341, -123.172373], [45.197586, -123.172373], [45.201148, -123.172373], [45.20116, -123.174987], [45.201197, -123.174987], [45.201209, -123.17544], [45.201209, -123.175824], [45.201209, -123.176242], [45.201222, -123.176538], [45.201246, -123.176765], [45.201271, -123.176939], [45.201283, -123.177044], [45.201308, -123.177183], [45.201332, -123.177305], [45.201357, -123.17741], [45.201381, -123.177549], [45.201406, -123.177636], [45.201443, -123.177724], [45.201467, -123.177811], [45.201492, -123.17788], [45.201541, -123.178002], [45.20148, -123.178124], [45.200325, -123.180199], [45.200251, -123.180321], [45.199883, -123.181], [45.199244, -123.182186], [45.198409, -123.183737], [45.198102, -123.184295], [45.198053, -123.18426], [45.196825, -123.186543], [45.196383, -123.186316], [45.196272, -123.186125], [45.196211, -123.18609], [45.196137, -123.186003], [45.1961, -123.185863], [45.196039, -123.185689], [45.195965, -123.185497], [45.195904, -123.185288], [45.195854, -123.185096], [45.195818, -123.18487], [45.195781, -123.18473], [45.195756, -123.184521], [45.195707, -123.184312], [45.195682, -123.184033], [45.195584, -123.18351], [45.195572, -123.183336], [45.195523, -123.183179], [45.195314, -123.182743], [45.195179, -123.182534], [45.195007, -123.18243], [45.194884, -123.182464], [45.194749, -123.182586], [45.194589, -123.182796], [45.194577, -123.182813], [45.194479, -123.182987], [45.194393, -123.183231], [45.194307, -123.183493], [45.194245, -123.183894], [45.194012, -123.184312], [45.193791, -123.1848], [45.19368, -123.1848], [45.193582, -123.184765], [45.193484, -123.184695], [45.193373, -123.184608], [45.193238, -123.184521], [45.193103, -123.184382], [45.19298, -123.18419], [45.192808, -123.183894], [45.192808, -123.185096], [45.192489, -123.185253], [45.192489, -123.185306], [45.192735, -123.18595], [45.192894, -123.186125], [45.192919, -123.191458], [45.192894, -123.191458], [45.192907, -123.192748], [45.193066, -123.193515], [45.192943, -123.193759], [45.192943, -123.19423], [45.192698, -123.194212], [45.192587, -123.194456], [45.192415, -123.194805], [45.192341, -123.194979], [45.192268, -123.195136], [45.192206, -123.195293], [45.192133, -123.195467], [45.192084, -123.195589], [45.192022, -123.195746], [45.191948, -123.195955], [45.191887, -123.196129], [45.191838, -123.196286], [45.191776, -123.196495], [45.191727, -123.196687], [45.19169, -123.196827], [45.191641, -123.197001], [45.191592, -123.197175], [45.191555, -123.19735], [45.191518, -123.197506], [45.191506, -123.197611], [45.19142, -123.198082], [45.191359, -123.198587], [45.19131, -123.199058], [45.191273, -123.199441], [45.191248, -123.19979], [45.191199, -123.200539], [45.191187, -123.200818], [45.191531, -123.200609], [45.191998, -123.200295], [45.192722, -123.19979], [45.192919, -123.199668], [45.192919, -123.199912], [45.191924, -123.200591], [45.191162, -123.20108], [45.191076, -123.202526], [45.190978, -123.203694], [45.190843, -123.206012], [45.190892, -123.206988], [45.191003, -123.207842], [45.19115, -123.208993], [45.191138, -123.209899], [45.191089, -123.210195], [45.190585, -123.210195], [45.190352, -123.214204], [45.190327, -123.214588], [45.190302, -123.214814], [45.190278, -123.215076], [45.190253, -123.215337], [45.190253, -123.215459], [45.190216, -123.215633], [45.190192, -123.21579], [45.190425, -123.216819], [45.187391, -123.221438], [45.180229, -123.232349], [45.180241, -123.234667], [45.187575, -123.225865], [45.187551, -123.225847], [45.189467, -123.223547], [45.189467, -123.223895], [45.189516, -123.225255], [45.189836, -123.226126], [45.190597, -123.230745], [45.190646, -123.230989], [45.190904, -123.231721], [45.191138, -123.232331], [45.191445, -123.233011], [45.191592, -123.233168], [45.191826, -123.23329], [45.192206, -123.233551], [45.192378, -123.233935], [45.192477, -123.234371], [45.192513, -123.234649], [45.192489, -123.235974], [45.192477, -123.237787], [45.192489, -123.239321], [45.192538, -123.24014], [45.192513, -123.240523], [45.193852, -123.240541], [45.193852, -123.24021], [45.199613, -123.24021], [45.199613, -123.239878], [45.199686, -123.239878], [45.199809, -123.254275], [45.202634, -123.25431], [45.204918, -123.254275], [45.208062, -123.254241], [45.213244, -123.254171], [45.213244, -123.246972], [45.21511, -123.246972], [45.215098, -123.242894], [45.217148, -123.242894], [45.217161, -123.245892], [45.217161, -123.246066], [45.217148, -123.246223], [45.217099, -123.246519], [45.217087, -123.246641], [45.217075, -123.246728], [45.217075, -123.246781], [45.21705, -123.24807], [45.21721, -123.248105], [45.217885, -123.248088], [45.218843, -123.247181], [45.220181, -123.247181], [45.220083, -123.238345], [45.219518, -123.238345], [45.219346, -123.23702], [45.220598, -123.236846], [45.222956, -123.236514], [45.221986, -123.233795], [45.219837, -123.22766], [45.225435, -123.22766], [45.227044, -123.22766], [45.22767, -123.22759], [45.231107, -123.22759], [45.231094, -123.227538], [45.231082, -123.227399], [45.231107, -123.227242], [45.231131, -123.227085], [45.23118, -123.226963], [45.231205, -123.226876], [45.231193, -123.226806], [45.23118, -123.226667], [45.23118, -123.226457], [45.231205, -123.226283], [45.231254, -123.226178], [45.231328, -123.226144], [45.231389, -123.226056], [45.231414, -123.225952], [45.231401, -123.225847], [45.231364, -123.225778], [45.231266, -123.225603], [45.231205, -123.225446], [45.231144, -123.22529], [45.231082, -123.225133], [45.231045, -123.225011], [45.231045, -123.224906], [45.231082, -123.224802], [45.231119, -123.22468], [45.23118, -123.22461], [45.231254, -123.224558], [45.23134, -123.22454], [45.231475, -123.22454], [45.231585, -123.224558], [45.231696, -123.224558], [45.231745, -123.224505], [45.231733, -123.224331], [45.231696, -123.224174], [45.231647, -123.224035], [45.231573, -123.223913], [45.231487, -123.223791], [45.231438, -123.223703], [45.231438, -123.223581], [45.231475, -123.223512], [45.231487, -123.223407], [45.231573, -123.223268], [45.231671, -123.22325], [45.231794, -123.223198], [45.231892, -123.223181], [45.231978, -123.223146], [45.23199, -123.223024], [45.231978, -123.222902], [45.231905, -123.22271], [45.23188, -123.222605], [45.231855, -123.222466], [45.231855, -123.222344], [45.231892, -123.222239], [45.231966, -123.22217], [45.232064, -123.222135], [45.23215, -123.2221], [45.232224, -123.222117], [45.232297, -123.222135], [45.232371, -123.222152], [45.23242, -123.22217], [45.232481, -123.222048], [45.232506, -123.221856], [45.232555, -123.221734], [45.232567, -123.221542], [45.232567, -123.221403], [45.232641, -123.221298], [45.232702, -123.221176], [45.232801, -123.221072], [45.232936, -123.220897], [45.233009, -123.22081], [45.233058, -123.220636], [45.233046, -123.220462], [45.233009, -123.220252], [45.233022, -123.22013], [45.233083, -123.219956], [45.233181, -123.219729], [45.233267, -123.21959], [45.233328, -123.219485], [45.233341, -123.219294], [45.233304, -123.219154], [45.233243, -123.21905], [45.233193, -123.21891], [45.233206, -123.218666], [45.23323, -123.218474], [45.233193, -123.2183], [45.233144, -123.218074], [45.233095, -123.217934], [45.233144, -123.217725], [45.233132, -123.21762], [45.233071, -123.217464], [45.232948, -123.217394], [45.232862, -123.217307], [45.232813, -123.217237], [45.232727, -123.217115], [45.232666, -123.216941], [45.232653, -123.216801], [45.232702, -123.216644], [45.232801, -123.216505], [45.23285, -123.216383], [45.232825, -123.216226], [45.232727, -123.216209], [45.232629, -123.216243], [45.232481, -123.216365], [45.232371, -123.216487], [45.232273, -123.216575], [45.232248, -123.216679], [45.232199, -123.216766], [45.232089, -123.216871], [45.23199, -123.216923], [45.231917, -123.216923], [45.231819, -123.216836], [45.231745, -123.216749], [45.231659, -123.216662], [45.23161, -123.216575], [45.231536, -123.216505], [45.231487, -123.216383], [45.231426, -123.216226], [45.231364, -123.216121], [45.231303, -123.216087], [45.231279, -123.216034], [45.231254, -123.215965], [45.231279, -123.21586], [45.231377, -123.21579], [45.231463, -123.215703], [45.231512, -123.215546], [45.231536, -123.215407], [45.231475, -123.21525], [45.231364, -123.215163], [45.231242, -123.215145], [45.231082, -123.215076], [45.230972, -123.215006], [45.230923, -123.214849], [45.230873, -123.214657], [45.230812, -123.21457], [45.230763, -123.214535], [45.230653, -123.214535], [45.23053, -123.214553], [45.230419, -123.214553], [45.230284, -123.214518], [45.2301, -123.214466], [45.229965, -123.214413], [45.229941, -123.214326], [45.229953, -123.214134], [45.230027, -123.213925], [45.230186, -123.213716], [45.230333, -123.213559], [45.230444, -123.213455], [45.23053, -123.213333], [45.230591, -123.213246], [45.230677, -123.213193], [45.230763, -123.213158], [45.230763, -123.213036], [45.230763, -123.212932], [45.230677, -123.212705], [45.230603, -123.212531], [45.230505, -123.212357], [45.230456, -123.212252], [45.230395, -123.212182], [45.230247, -123.212147], [45.230137, -123.21206], [45.230014, -123.211903], [45.229977, -123.211747], [45.229977, -123.21152], [45.230014, -123.211293], [45.230051, -123.211119], [45.230112, -123.210927], [45.230162, -123.210788], [45.230211, -123.210387], [45.23026, -123.210021], [45.230284, -123.209812], [45.230297, -123.209638], [45.23026, -123.209516], [45.230186, -123.209394], [45.230112, -123.209324], [45.229977, -123.209184], [45.229941, -123.20901], [45.229916, -123.208696], [45.229916, -123.208522], [45.229916, -123.2084], [45.229928, -123.208243], [45.229916, -123.208104], [45.22983, -123.207964], [45.229732, -123.207877], [45.229683, -123.207773], [45.229658, -123.207703], [45.229671, -123.207563], [45.229707, -123.207337], [45.229732, -123.20718], [45.229744, -123.207058], [45.22972, -123.206814], [45.229695, -123.206674], [45.229658, -123.206535], [45.229646, -123.206413], [45.229646, -123.206239], [45.229695, -123.206064], [45.229732, -123.205925], [45.229732, -123.20582], [45.229707, -123.205716], [45.229609, -123.205454], [45.229523, -123.20528], [45.2294, -123.205106], [45.229315, -123.205001], [45.229155, -123.204827], [45.228983, -123.204792], [45.228848, -123.204792], [45.228762, -123.204757], [45.228664, -123.204687], [45.228529, -123.2046], [45.228455, -123.204478], [45.228418, -123.204321], [45.228308, -123.204165], [45.228197, -123.204077], [45.228124, -123.204008], [45.228075, -123.203921], [45.228038, -123.203833], [45.228026, -123.203746], [45.228038, -123.203659], [45.228038, -123.203572], [45.228026, -123.203467], [45.228013, -123.203328], [45.228026, -123.203189], [45.228062, -123.203101], [45.228124, -123.203067], [45.228161, -123.202979], [45.228173, -123.202857], [45.228185, -123.202753], [45.22821, -123.202648], [45.228259, -123.202596], [45.228296, -123.202613], [45.22832, -123.202648], [45.228382, -123.202683], [45.228418, -123.202683], [45.228468, -123.202683], [45.228529, -123.202683], [45.228566, -123.202718], [45.22859, -123.20277], [45.228603, -123.202805], [45.228652, -123.202822], [45.22875, -123.202822], [45.228811, -123.202822], [45.228848, -123.20277], [45.228885, -123.202631], [45.228946, -123.202422], [45.228959, -123.202282], [45.229008, -123.202178], [45.22902, -123.202021], [45.228983, -123.201881], [45.228934, -123.201759], [45.228787, -123.20162], [45.228664, -123.20155], [45.228517, -123.201463], [45.228406, -123.201411], [45.228296, -123.201358], [45.228234, -123.201306], [45.228234, -123.201236], [45.228259, -123.201132], [45.228283, -123.201062], [45.228333, -123.201027], [45.228394, -123.20101], [45.22848, -123.200992], [45.228553, -123.20094], [45.228566, -123.200923], [45.230984, -123.200905], [45.230984, -123.198848], [45.230972, -123.196687], [45.230972, -123.1966], [45.231033, -123.196478], [45.231819, -123.197193], [45.232126, -123.197315], [45.232739, -123.197315], [45.233525, -123.197175], [45.233549, -123.197123], [45.233562, -123.196949], [45.233549, -123.196809], [45.233525, -123.19667], [45.2335, -123.196565], [45.233463, -123.196391], [45.233427, -123.196217], [45.23339, -123.196095], [45.233365, -123.196007], [45.233292, -123.195885], [45.233279, -123.195781], [45.233267, -123.195659], [45.233169, -123.195485], [45.233095, -123.195328], [45.233022, -123.195241], [45.232948, -123.195119], [45.232923, -123.195031], [45.232936, -123.194996], [45.232985, -123.194927], [45.233071, -123.194787], [45.233157, -123.194665], [45.233255, -123.194543], [45.233304, -123.194456], [45.233353, -123.194386], [45.233427, -123.194404], [45.233476, -123.194421], [45.233537, -123.194456], [45.233623, -123.194491], [45.233697, -123.194526], [45.233807, -123.194526], [45.233905, -123.194543], [45.234089, -123.194648], [45.234261, -123.1947], [45.234531, -123.19484], [45.234666, -123.194857], [45.234814, -123.194665], [45.234998, -123.194613], [45.235182, -123.194665], [45.235378, -123.194857], [45.235538, -123.19477], [45.235636, -123.194648], [45.235845, -123.194491], [45.236078, -123.194247], [45.236237, -123.193794], [45.23636, -123.193724], [45.236458, -123.193742], [45.236569, -123.193846], [45.236655, -123.194055], [45.236728, -123.194421], [45.236851, -123.194892], [45.236986, -123.194927], [45.237317, -123.194805], [45.237453, -123.194787], [45.237538, -123.194892], [45.237588, -123.195031], [45.237637, -123.195258], [45.237637, -123.195537], [45.237735, -123.195659], [45.23787, -123.195659], [45.238042, -123.195502], [45.23814, -123.195363], [45.238459, -123.19477], [45.238557, -123.19463], [45.23868, -123.194543], [45.238753, -123.194456], [45.238803, -123.194386], [45.238888, -123.194299], [45.239183, -123.193864], [45.239257, -123.193724], [45.239306, -123.193567], [45.239195, -123.193393], [45.239122, -123.193306], [45.239011, -123.193271], [45.238864, -123.193288], [45.238717, -123.193376], [45.238569, -123.193376], [45.238422, -123.193358], [45.238299, -123.193376], [45.238152, -123.193445], [45.238115, -123.193515], [45.238042, -123.19355], [45.237637, -123.193358], [45.237477, -123.193184], [45.237391, -123.19294], [45.237367, -123.192835], [45.237367, -123.192713], [45.237453, -123.192469], [45.237563, -123.192225], [45.237735, -123.191946], [45.237796, -123.191859], [45.237796, -123.191824], [45.237796, -123.191301], [45.237784, -123.190447], [45.23771, -123.182081], [45.237673, -123.175074], [45.237514, -123.174743], [45.237391, -123.174569], [45.237281, -123.174342], [45.237207, -123.174185], [45.237133, -123.174028], [45.23706, -123.173854], [45.236925, -123.173628], [45.236753, -123.173366], [45.236655, -123.173244], [45.236507, -123.173052], [45.236299, -123.172756], [45.236188, -123.172442], [45.236115, -123.172111], [45.236115, -123.171745], [45.236164, -123.171292], [45.236115, -123.170978], [45.236066, -123.170577], [45.236041, -123.170264], [45.236115, -123.169985], [45.236336, -123.169845], [45.236557, -123.169688], [45.23679, -123.169601], [45.236962, -123.169584], [45.23717, -123.169723], [45.237281, -123.169898], [45.237428, -123.170054], [45.237575, -123.170072], [45.237686, -123.170054], [45.237747, -123.169723], [45.237723, -123.169392], [45.237661, -123.169183], [45.237502, -123.169009], [45.237305, -123.168765], [45.237047, -123.168538], [45.236777, -123.168294], [45.236581, -123.16805], [45.236397, -123.167823], [45.236201, -123.167492], [45.235967, -123.167266], [45.235722, -123.167091], [45.23544, -123.166795], [45.235182, -123.166586], [45.235022, -123.166377], [45.23485, -123.166185], [45.234801, -123.165958], [45.2349, -123.165819], [45.235145, -123.165645], [45.235403, -123.165488], [45.235685, -123.165401], [45.235857, -123.165366], [45.236102, -123.165348], [45.236237, -123.165313], [45.236323, -123.165069], [45.23636, -123.164669], [45.236397, -123.164215], [45.236434, -123.163832], [45.236507, -123.163536], [45.236667, -123.162769], [45.236753, -123.162368], [45.236704, -123.162054], [45.23652, -123.161897], [45.236311, -123.161705], [45.235955, -123.161566], [45.235538, -123.161496], [45.235145, -123.161392], [45.234691, -123.161287], [45.234224, -123.161252], [45.23377, -123.161374], [45.233365, -123.161549], [45.233071, -123.161671], [45.232617, -123.161671], [45.232273, -123.161566], [45.231855, -123.161287], [45.231745, -123.161165], [45.231561, -123.161026], [45.231279, -123.160764], [45.231009, -123.160538], [45.230763, -123.160311], [45.230554, -123.160224], [45.230518, -123.159997], [45.230542, -123.159736], [45.230677, -123.159405], [45.230775, -123.15923], [45.231009, -123.158899], [45.23161, -123.157784], [45.231831, -123.157383], [45.232015, -123.15686], [45.232162, -123.156233], [45.232224, -123.1551], [45.232064, -123.154577], [45.231917, -123.154333], [45.23177, -123.154036], [45.231585, -123.153949], [45.231389, -123.153705], [45.231352, -123.153583], [45.231377, -123.153113], [45.231573, -123.152834], [45.231708, -123.152677], [45.23188, -123.15245], [45.231966, -123.152189], [45.231966, -123.15198], [45.231855, -123.151788], [45.231696, -123.151544], [45.231438, -123.15137], [45.231131, -123.151143], [45.230824, -123.151073], [45.230628, -123.151073], [45.230284, -123.151073], [45.230002, -123.151126], [45.229781, -123.151073], [45.229646, -123.150969], [45.229634, -123.150794]];
var cityCoords = [[45.230689, -123.159335], [45.231156, -123.158708], [45.231622, -123.157923], [45.231905, -123.157226], [45.232138, -123.156546], [45.232211, -123.155866], [45.232261, -123.155152], [45.232211, -123.154716], [45.232064, -123.154368], [45.231733, -123.153967], [45.231438, -123.153723], [45.231352, -123.153531], [45.231352, -123.153322], [45.231389, -123.1532], [45.230125, -123.153357], [45.229609, -123.153426], [45.229315, -123.153444], [45.229008, -123.151875], [45.22875, -123.152206], [45.228566, -123.152468], [45.228468, -123.152607], [45.228296, -123.152886], [45.228124, -123.153165], [45.227891, -123.153601], [45.227743, -123.153914], [45.22767, -123.154071], [45.227535, -123.154385], [45.2274, -123.154699], [45.227277, -123.15503], [45.227166, -123.155361], [45.227056, -123.155692], [45.226958, -123.156041], [45.226872, -123.156389], [45.226761, -123.15693], [45.226688, -123.157278], [45.226638, -123.157644], [45.226602, -123.157819], [45.226589, -123.15801], [45.22654, -123.158376], [45.226516, -123.158742], [45.226491, -123.159091], [45.22643, -123.160451], [45.224183, -123.160451], [45.223434, -123.160451], [45.220967, -123.160451], [45.22093, -123.15944], [45.220488, -123.15944], [45.216534, -123.159579], [45.216547, -123.16066], [45.216571, -123.163675], [45.216596, -123.164616], [45.21662, -123.164913], [45.216743, -123.16554], [45.216805, -123.165802], [45.216854, -123.166063], [45.216706, -123.166115], [45.215614, -123.166168], [45.215712, -123.16669], [45.215773, -123.167248], [45.215749, -123.167562], [45.215663, -123.167963], [45.215491, -123.168555], [45.215208, -123.16934], [45.214865, -123.169898], [45.214533, -123.170455], [45.214214, -123.17436], [45.213477, -123.174342], [45.213391, -123.174795], [45.213391, -123.175039], [45.213379, -123.177828], [45.213379, -123.178996], [45.212323, -123.178403], [45.212163, -123.178386], [45.211905, -123.178595], [45.211439, -123.179327], [45.21139, -123.180669], [45.211046, -123.180634], [45.211034, -123.181314], [45.211267, -123.181331], [45.211267, -123.181872], [45.207841, -123.18182], [45.207939, -123.181454], [45.208037, -123.181105], [45.208394, -123.180634], [45.209216, -123.179536], [45.210076, -123.178647], [45.210186, -123.17361], [45.210027, -123.173697], [45.209769, -123.173784], [45.209462, -123.173784], [45.209081, -123.173593], [45.208615, -123.173174], [45.208209, -123.172773], [45.206613, -123.171675], [45.205385, -123.170908], [45.205422, -123.166603], [45.204771, -123.166603], [45.204771, -123.166412], [45.20493, -123.166412], [45.204918, -123.165087], [45.205471, -123.165087], [45.205471, -123.166412], [45.205999, -123.166394], [45.205987, -123.164198], [45.205987, -123.161775], [45.205888, -123.161705], [45.205397, -123.160712], [45.205213, -123.160451], [45.205422, -123.160276], [45.205311, -123.158533], [45.205569, -123.157679], [45.204722, -123.15693], [45.204267, -123.156006], [45.203616, -123.155065], [45.203629, -123.154054], [45.203039, -123.154054], [45.202585, -123.152799], [45.20143, -123.152781], [45.20143, -123.14567], [45.203088, -123.145653], [45.203027, -123.150899], [45.206171, -123.150899], [45.206146, -123.149191], [45.206097, -123.145565], [45.206097, -123.145478], [45.205987, -123.138349], [45.202708, -123.138349], [45.202708, -123.143788], [45.201418, -123.143805], [45.201418, -123.138681], [45.20202, -123.138663], [45.202008, -123.137513], [45.205974, -123.137495], [45.205901, -123.129251], [45.202462, -123.129199], [45.196567, -123.129652], [45.18572, -123.131343], [45.188693, -123.14499], [45.189369, -123.14804], [45.188988, -123.148563], [45.188742, -123.148877], [45.188349, -123.149156], [45.188018, -123.149452], [45.187428, -123.150341], [45.187354, -123.150864], [45.187342, -123.151213], [45.187391, -123.151753], [45.187465, -123.152189], [45.187588, -123.152485], [45.187723, -123.152625], [45.187907, -123.152712], [45.188116, -123.152677], [45.188497, -123.152346], [45.189037, -123.152276], [45.189283, -123.152363], [45.189418, -123.152555], [45.189541, -123.152816], [45.189639, -123.153235], [45.189688, -123.153705], [45.189713, -123.154106], [45.189701, -123.154455], [45.189615, -123.154873], [45.189627, -123.155222], [45.189688, -123.155431], [45.189848, -123.155518], [45.190229, -123.155483], [45.190831, -123.155256], [45.191039, -123.155274], [45.191445, -123.1555], [45.191727, -123.155588], [45.192256, -123.156058], [45.192292, -123.156581], [45.193189, -123.156581], [45.192256, -123.163919], [45.192329, -123.164425], [45.197635, -123.164337], [45.197635, -123.166795], [45.197635, -123.169671], [45.197304, -123.169671], [45.197304, -123.172233], [45.20116, -123.172285], [45.201222, -123.176277], [45.201222, -123.176469], [45.201246, -123.17666], [45.201258, -123.176852], [45.201295, -123.177044], [45.201332, -123.177235], [45.201418, -123.177584], [45.20148, -123.177758], [45.201541, -123.177933], [45.201615, -123.178107], [45.201688, -123.178264], [45.201762, -123.178421], [45.201848, -123.17856], [45.201946, -123.178717], [45.202044, -123.178856], [45.202143, -123.178978], [45.202253, -123.1791], [45.202364, -123.179205], [45.202474, -123.17931], [45.20288, -123.179658], [45.202781, -123.179989], [45.202794, -123.181105], [45.203027, -123.181157], [45.203064, -123.18229], [45.202634, -123.182865], [45.203064, -123.183458], [45.204488, -123.18161], [45.20466, -123.181209], [45.205729, -123.182168], [45.205606, -123.182325], [45.205532, -123.182447], [45.205471, -123.182656], [45.205385, -123.182935], [45.205336, -123.183231], [45.205299, -123.183493], [45.20525, -123.183998], [45.205225, -123.184382], [45.205311, -123.184765], [45.205459, -123.185149], [45.205618, -123.185393], [45.205815, -123.185654], [45.205987, -123.185916], [45.206097, -123.186229], [45.20622, -123.186543], [45.206306, -123.186839], [45.206306, -123.187048], [45.206257, -123.187188], [45.206146, -123.187327], [45.206023, -123.187449], [45.205913, -123.187519], [45.205655, -123.187624], [45.205299, -123.187711], [45.20482, -123.187746], [45.203395, -123.188059], [45.202192, -123.188269], [45.200694, -123.188478], [45.200104, -123.188687], [45.199846, -123.188791], [45.1996, -123.188931], [45.199429, -123.188913], [45.199257, -123.188931], [45.199146, -123.188966], [45.198986, -123.189053], [45.198876, -123.189088], [45.198741, -123.189053], [45.198569, -123.189018], [45.198299, -123.188879], [45.198016, -123.188617], [45.197709, -123.188234], [45.19739, -123.18785], [45.196911, -123.186961], [45.196714, -123.18663], [45.192649, -123.194282], [45.192489, -123.194578], [45.192378, -123.194822], [45.192231, -123.195136], [45.192084, -123.195502], [45.191948, -123.195885], [45.191826, -123.196199], [45.191776, -123.196391], [45.191727, -123.196548], [45.191629, -123.196879], [45.191531, -123.19728], [45.191457, -123.197628], [45.191383, -123.197977], [45.191322, -123.198326], [45.191273, -123.198692], [45.191224, -123.19904], [45.191199, -123.199337], [45.191175, -123.19965], [45.191101, -123.200766], [45.191617, -123.200435], [45.19298, -123.199493], [45.192992, -123.200016], [45.191764, -123.20087], [45.191518, -123.201027], [45.191076, -123.201289], [45.190867, -123.204897], [45.190892, -123.206552], [45.190892, -123.206744], [45.190904, -123.206919], [45.190917, -123.207093], [45.191101, -123.208417], [45.191125, -123.208714], [45.191138, -123.208888], [45.191138, -123.20908], [45.191138, -123.209707], [45.191138, -123.210213], [45.190597, -123.210195], [45.190302, -123.214919], [45.190253, -123.215372], [45.190167, -123.21586], [45.19013, -123.216017], [45.19029, -123.216976], [45.189234, -123.218562], [45.188693, -123.219433], [45.187391, -123.221403], [45.187342, -123.22149], [45.187342, -123.222204], [45.187342, -123.223006], [45.18733, -123.22569], [45.187514, -123.225917], [45.192366, -123.220043], [45.191789, -123.219119], [45.193152, -123.219085], [45.193938, -123.218143], [45.194159, -123.218474], [45.194196, -123.220252], [45.195388, -123.220252], [45.195412, -123.221089], [45.1961, -123.221176], [45.196088, -123.219085], [45.196297, -123.219085], [45.196297, -123.219207], [45.196309, -123.22081], [45.196297, -123.223494], [45.197684, -123.223494], [45.197684, -123.226196], [45.197684, -123.226632], [45.197684, -123.230745], [45.1996, -123.230763], [45.199613, -123.22956], [45.201308, -123.22963], [45.205176, -123.229734], [45.205176, -123.229996], [45.205176, -123.231181], [45.205139, -123.239756], [45.205164, -123.239826], [45.205188, -123.239878], [45.205213, -123.239913], [45.205238, -123.239931], [45.205287, -123.239948], [45.206023, -123.239948], [45.20606, -123.239948], [45.206109, -123.239965], [45.206146, -123.239983], [45.206183, -123.240018], [45.20622, -123.240053], [45.206245, -123.24007], [45.206269, -123.240122], [45.206294, -123.240157], [45.206318, -123.240262], [45.206343, -123.240332], [45.206343, -123.240401], [45.206416, -123.244759], [45.202487, -123.244794], [45.202634, -123.251469], [45.202695, -123.254502], [45.205016, -123.254432], [45.204955, -123.246449], [45.206453, -123.246484], [45.206466, -123.247722], [45.206478, -123.248489], [45.207411, -123.249482], [45.208172, -123.250563], [45.208271, -123.254258], [45.21344, -123.254101], [45.213379, -123.247251], [45.215159, -123.247234], [45.215147, -123.240593], [45.213919, -123.240645], [45.213895, -123.239268], [45.213895, -123.238658], [45.213624, -123.238676], [45.213637, -123.235974], [45.213637, -123.235939], [45.213649, -123.235887], [45.213674, -123.235835], [45.213686, -123.2358], [45.21371, -123.235765], [45.213747, -123.235747], [45.213772, -123.23573], [45.213809, -123.235713], [45.213858, -123.235713], [45.214558, -123.235713], [45.214582, -123.235573], [45.214595, -123.235451], [45.214595, -123.235312], [45.214595, -123.235172], [45.214582, -123.23505], [45.214558, -123.234911], [45.214533, -123.234841], [45.214484, -123.234684], [45.214435, -123.234545], [45.21441, -123.234388], [45.214386, -123.234214], [45.214373, -123.234109], [45.214373, -123.233987], [45.214251, -123.231599], [45.215343, -123.231495], [45.215307, -123.229961], [45.212556, -123.230257], [45.212347, -123.230275], [45.212151, -123.230275], [45.211881, -123.230257], [45.210506, -123.230118], [45.2094, -123.23003], [45.209413, -123.229786], [45.210518, -123.229874], [45.211955, -123.23003], [45.212151, -123.23003], [45.212347, -123.230048], [45.212544, -123.23003], [45.215896, -123.229664], [45.215884, -123.228322], [45.215896, -123.2282], [45.215908, -123.228131], [45.215921, -123.228078], [45.215945, -123.228009], [45.215982, -123.227956], [45.216019, -123.227887], [45.216056, -123.227852], [45.216092, -123.227817], [45.216142, -123.227782], [45.216178, -123.227765], [45.216449, -123.22766], [45.21651, -123.22773], [45.217271, -123.227625], [45.21829, -123.22759], [45.218278, -123.227486], [45.219518, -123.227468], [45.219592, -123.227712], [45.217824, -123.22773], [45.217836, -123.227974], [45.220463, -123.236776], [45.222771, -123.236427], [45.219665, -123.227712], [45.221016, -123.227695], [45.221163, -123.227677], [45.222968, -123.227677], [45.227129, -123.227625], [45.227117, -123.227521], [45.230432, -123.227503], [45.230432, -123.227765], [45.230444, -123.229142], [45.230456, -123.23017], [45.230665, -123.229769], [45.231033, -123.229211], [45.231033, -123.228967], [45.23107, -123.228898], [45.23107, -123.228793], [45.23107, -123.228514], [45.231082, -123.228253], [45.231058, -123.228096], [45.231033, -123.227921], [45.231119, -123.227695], [45.231119, -123.227643], [45.231058, -123.227573], [45.231045, -123.227486], [45.231131, -123.227102], [45.231107, -123.226858], [45.231107, -123.226597], [45.231131, -123.226457], [45.231279, -123.226144], [45.231315, -123.226022], [45.231291, -123.225865], [45.231303, -123.225551], [45.231426, -123.22529], [45.231512, -123.224749], [45.231659, -123.224226], [45.231684, -123.224052], [45.231696, -123.223913], [45.231696, -123.223686], [45.23172, -123.223163], [45.231794, -123.222954], [45.231929, -123.22278], [45.232101, -123.222274], [45.232224, -123.221751], [45.232236, -123.221647], [45.232273, -123.22156], [45.232285, -123.221298], [45.232273, -123.221211], [45.232285, -123.221106], [45.232285, -123.221019], [45.232334, -123.22088], [45.232408, -123.220444], [45.232408, -123.220427], [45.232813, -123.220409], [45.232788, -123.220165], [45.233132, -123.21959], [45.233157, -123.219433], [45.233144, -123.219241], [45.233132, -123.219154], [45.233132, -123.218788], [45.233206, -123.218509], [45.233279, -123.218422], [45.233353, -123.218265], [45.233439, -123.218108], [45.233451, -123.218021], [45.233427, -123.217917], [45.23339, -123.21783], [45.233341, -123.217777], [45.23323, -123.217708], [45.233132, -123.217586], [45.23296, -123.217481], [45.232752, -123.217272], [45.232543, -123.216941], [45.232383, -123.216906], [45.232199, -123.216923], [45.232064, -123.216941], [45.231917, -123.216888], [45.231733, -123.216749], [45.231684, -123.216732], [45.2315, -123.216522], [45.231291, -123.216174], [45.231229, -123.216104], [45.231217, -123.216017], [45.23118, -123.215982], [45.231168, -123.21593], [45.230309, -123.21593], [45.230297, -123.214361], [45.229769, -123.214361], [45.228308, -123.214378], [45.228222, -123.211154], [45.228222, -123.211119], [45.229756, -123.211102], [45.229953, -123.211102], [45.230063, -123.210927], [45.230174, -123.210631], [45.230247, -123.210021], [45.230223, -123.209794], [45.230198, -123.209463], [45.230149, -123.209411], [45.229941, -123.209097], [45.229904, -123.209028], [45.229867, -123.20894], [45.229916, -123.208749], [45.229891, -123.208661], [45.229904, -123.208383], [45.229867, -123.208173], [45.229695, -123.207773], [45.229646, -123.207563], [45.229658, -123.207476], [45.227915, -123.207476], [45.227645, -123.204112], [45.22778, -123.204112], [45.227522, -123.20101], [45.230972, -123.200958], [45.230959, -123.196495], [45.230886, -123.196478], [45.230886, -123.195014], [45.231905, -123.194979], [45.233095, -123.194962], [45.233243, -123.194648], [45.233071, -123.19423], [45.233071, -123.193881], [45.233869, -123.193846], [45.233881, -123.19463], [45.234188, -123.194648], [45.234409, -123.194543], [45.234482, -123.194648], [45.234482, -123.194718], [45.234703, -123.194787], [45.235084, -123.194526], [45.235427, -123.194857], [45.235697, -123.194491], [45.23582, -123.194439], [45.235955, -123.194299], [45.236102, -123.194108], [45.236176, -123.193898], [45.236262, -123.193654], [45.236385, -123.19362], [45.236544, -123.193742], [45.236642, -123.193916], [45.236642, -123.194142], [45.236728, -123.194421], [45.236765, -123.194596], [45.236814, -123.194752], [45.2369, -123.194822], [45.237035, -123.194822], [45.237133, -123.19477], [45.237219, -123.194718], [45.237379, -123.194718], [45.237428, -123.194718], [45.237538, -123.194944], [45.237563, -123.195066], [45.237575, -123.195241], [45.237588, -123.195415], [45.237673, -123.195519], [45.237784, -123.195554], [45.237845, -123.195537], [45.237907, -123.195589], [45.238066, -123.195502], [45.238287, -123.19531], [45.238385, -123.195153], [45.238447, -123.195084], [45.238606, -123.194648], [45.238827, -123.194421], [45.238938, -123.19402], [45.238974, -123.193951], [45.239048, -123.193864], [45.239122, -123.193742], [45.239195, -123.193585], [45.23922, -123.193445], [45.239171, -123.193306], [45.239097, -123.193184], [45.239011, -123.193149], [45.238938, -123.193132], [45.238803, -123.193149], [45.238606, -123.193219], [45.238508, -123.193236], [45.238398, -123.193184], [45.238275, -123.193201], [45.238128, -123.193271], [45.238042, -123.193341], [45.237931, -123.193393], [45.237858, -123.193376], [45.237759, -123.193306], [45.237637, -123.193254], [45.237489, -123.193166], [45.237428, -123.193079], [45.237293, -123.192818], [45.237268, -123.192556], [45.237293, -123.192417], [45.237465, -123.192103], [45.237551, -123.191964], [45.237735, -123.191633], [45.237698, -123.188669], [45.236888, -123.188669], [45.236876, -123.187519], [45.237686, -123.187519], [45.237686, -123.18738], [45.237612, -123.18738], [45.237588, -123.184173], [45.237317, -123.184173], [45.237317, -123.184329], [45.236066, -123.184364], [45.233586, -123.184382], [45.233611, -123.18161], [45.233598, -123.176556], [45.233255, -123.176556], [45.233255, -123.17293], [45.233243, -123.170438], [45.233709, -123.17042], [45.233893, -123.169043], [45.233598, -123.166168], [45.233549, -123.165906], [45.233586, -123.165505], [45.233574, -123.165296], [45.233365, -123.165279], [45.233218, -123.165366], [45.233083, -123.165261], [45.23296, -123.165279], [45.232752, -123.165279], [45.232236, -123.16486], [45.232101, -123.164738], [45.231905, -123.164721], [45.231757, -123.164686], [45.231733, -123.164669], [45.231745, -123.163832], [45.231303, -123.163832], [45.231303, -123.163692], [45.231414, -123.163518], [45.231377, -123.163309], [45.231438, -123.1631], [45.231598, -123.16296], [45.231598, -123.162838], [45.231487, -123.162699], [45.231414, -123.162612], [45.231254, -123.163135], [45.231058, -123.163832], [45.230738, -123.163832], [45.230861, -123.162507], [45.230579, -123.161723], [45.230714, -123.161583], [45.23053, -123.161305], [45.229965, -123.161862], [45.229879, -123.161758], [45.229756, -123.161618], [45.229523, -123.161113], [45.229499, -123.161043], [45.229486, -123.160956], [45.229462, -123.160834], [45.229462, -123.160747], [45.22945, -123.160677], [45.229462, -123.160573], [45.229462, -123.160555], [45.229462, -123.160538], [45.229977, -123.159318], [45.230689, -123.159335], [45.194651, -123.216679], [45.195326, -123.216662], [45.19551, -123.216662], [45.195523, -123.219085], [45.194663, -123.219085], [45.197058, -123.216644], [45.19707, -123.21898], [45.196763, -123.21898], [45.196751, -123.216644], [45.228455, -123.219207], [45.228173, -123.219207], [45.228062, -123.217952], [45.228455, -123.217952], [45.232666, -123.188704], [45.232666, -123.187449], [45.233844, -123.187467], [45.233844, -123.188704], [45.231782, -123.178578], [45.232494, -123.178578], [45.232494, -123.180251], [45.232248, -123.180233], [45.232076, -123.180094], [45.231794, -123.180111], [45.206048, -123.181698], [45.204611, -123.180355], [45.204587, -123.179066], [45.204402, -123.179013], [45.204378, -123.177776], [45.205532, -123.177846], [45.207067, -123.180791], [45.207006, -123.181209], [45.206883, -123.181488], [45.206613, -123.181785], [45.230689, -123.159335]];
var growthAreas = [[[45.202216, -123.129251], [45.200706, -123.129251], [45.200804, -123.153444], [45.199244, -123.153479], [45.199257, -123.14994], [45.195142, -123.149871], [45.195154, -123.150829], [45.194528, -123.152712], [45.193631, -123.154089], [45.193447, -123.155291], [45.193275, -123.15632], [45.19325, -123.156999], [45.194331, -123.157017], [45.193852, -123.158899], [45.194712, -123.158899], [45.194675, -123.164337], [45.197697, -123.164303], [45.197684, -123.16981], [45.197328, -123.16981], [45.197341, -123.172373], [45.201148, -123.172373], [45.205385, -123.170752], [45.205397, -123.166551], [45.205974, -123.166568], [45.205937, -123.161723], [45.205557, -123.161357], [45.205348, -123.160695], [45.205422, -123.160329], [45.205336, -123.158586], [45.205618, -123.157592], [45.205348, -123.157435], [45.204869, -123.157017], [45.204341, -123.155936], [45.203629, -123.155047], [45.203629, -123.154019], [45.203002, -123.154019], [45.202634, -123.152869], [45.20148, -123.152729], [45.201455, -123.145757], [45.203137, -123.145705], [45.20315, -123.150951], [45.206232, -123.150916], [45.206159, -123.145966], [45.205606, -123.145984], [45.205606, -123.145478], [45.206159, -123.145461], [45.206073, -123.139657], [45.205987, -123.129059], [45.205459, -123.129164], [45.202216, -123.129251], [45.202216, -123.129251]], [[45.202634, -123.25431], [45.202487, -123.244794], [45.206416, -123.244759], [45.206343, -123.240698], [45.206343, -123.240332], [45.206269, -123.240122], [45.206183, -123.240018], [45.206109, -123.239965], [45.205287, -123.239948], [45.205213, -123.239913], [45.205164, -123.239826], [45.205152, -123.239129], [45.205176, -123.229734], [45.202462, -123.229664], [45.199613, -123.22956], [45.1996, -123.230763], [45.197684, -123.230745], [45.197684, -123.223494], [45.196297, -123.223494], [45.196297, -123.219085], [45.196088, -123.219085], [45.1961, -123.221176], [45.195412, -123.221089], [45.195388, -123.220252], [45.194196, -123.220252], [45.194159, -123.218474], [45.193938, -123.218143], [45.193152, -123.219085], [45.191789, -123.219119], [45.192366, -123.220043], [45.189467, -123.223547], [45.189516, -123.225255], [45.189836, -123.226126], [45.190597, -123.230745], [45.191101, -123.232244], [45.191445, -123.233011], [45.192047, -123.233447], [45.192206, -123.233551], [45.192391, -123.233987], [45.192513, -123.234649], [45.192489, -123.239321], [45.192538, -123.24014], [45.192513, -123.240523], [45.193852, -123.240541], [45.193852, -123.24021], [45.199613, -123.24021], [45.199613, -123.239878], [45.199686, -123.239878], [45.199809, -123.254275], [45.202634, -123.25431], [45.202634, -123.25431]], [[45.220144, -123.243399], [45.217148, -123.243399], [45.217161, -123.246066], [45.217148, -123.246223], [45.217075, -123.24692], [45.21705, -123.24807], [45.217885, -123.248088], [45.218843, -123.247181], [45.220181, -123.247181], [45.220144, -123.243399], [45.220144, -123.243399]], [[45.20929, -123.191092], [45.20929, -123.19911], [45.211439, -123.199145], [45.211439, -123.19796], [45.212188, -123.197977], [45.212151, -123.192121], [45.211439, -123.192121], [45.211439, -123.1909], [45.20929, -123.191092], [45.20929, -123.191092]], [[45.210014, -123.191022], [45.211439, -123.1909], [45.212654, -123.190796], [45.213391, -123.190552], [45.214177, -123.189977], [45.214791, -123.189436], [45.215098, -123.189035], [45.215638, -123.188234], [45.215957, -123.187641], [45.217468, -123.184434], [45.216841, -123.183249], [45.216485, -123.182656], [45.215196, -123.183458], [45.213833, -123.18351], [45.213846, -123.18602], [45.213846, -123.186456], [45.213207, -123.186421], [45.20983, -123.186421], [45.20999, -123.186839], [45.210051, -123.187432], [45.210014, -123.191022], [45.210014, -123.191022]]];
var gaLabels = ["Three Mile Lane / McMinnville Landing", "Southwest Area", "Northwest / Fox Ridge Area", "Downtown Core", "NE Gateway District"];
var gaDescs = ["~200 acres. Innovation Campus, high-density employment & housing along Hwy 18.", "~660 acres. Largest UGB expansion area, primarily residential development.", "Fox Ridge Road area. Residential growth with rural character transition.", "Special Area designation. Ties into upcoming Downtown Plan.", "Mixed-use gateway. Connects to industrial park and employment centers."];
var corridors = [[[45.202462, -123.129199], [45.201504, -123.132528], [45.201111, -123.134097], [45.200976, -123.134846], [45.200915, -123.135613], [45.200902, -123.161357], [45.200902, -123.172373]], [[45.210014, -123.199127], [45.210014, -123.191022], [45.210002, -123.187467], [45.209941, -123.186839], [45.209806, -123.186438]], [[45.210002, -123.188617], [45.211746, -123.188635], [45.211918, -123.188582], [45.212102, -123.188425], [45.216829, -123.183231]], [[45.230738, -123.163832], [45.230014, -123.167318], [45.228443, -123.174168], [45.226737, -123.181558], [45.225153, -123.188216], [45.224294, -123.191911], [45.223692, -123.193654], [45.22325, -123.19463], [45.222403, -123.195833], [45.22163, -123.196635], [45.220181, -123.197524], [45.219432, -123.197733], [45.217382, -123.19789], [45.212323, -123.198012], [45.210014, -123.197942], [45.205238, -123.197977], [45.204673, -123.198186], [45.204341, -123.198639], [45.20369, -123.199894], [45.203088, -123.201045], [45.202192, -123.20216], [45.200681, -123.20399], [45.198409, -123.206064], [45.196321, -123.207947], [45.194847, -123.209777], [45.193042, -123.212531], [45.190376, -123.216627]], [[45.203088, -123.201045], [45.203948, -123.199981], [45.204316, -123.199703], [45.204857, -123.199441], [45.206171, -123.19904], [45.206478, -123.198988], [45.207448, -123.199093], [45.208627, -123.19911], [45.211611, -123.199145], [45.212298, -123.199005], [45.2129, -123.198988], [45.214361, -123.198971], [45.217652, -123.198988], [45.217922, -123.198848], [45.218253, -123.198674], [45.218622, -123.198273], [45.219101, -123.197942], [45.219432, -123.197733]]];
var corLabels = ["Highway 18 / Three Mile Lane", "East-West Connector (Central)", "NE Diagonal Connector", "OR 99W Corridor", "North-South Connector"];

// === UGB ===
var ugbLayer = L.polygon(ugbCoords, {
  color: '#e8e8e8', weight: 2.5, fillColor: 'transparent',
  fillOpacity: 0, dashArray: null, opacity: 0.9
}).addTo(map);
ugbLayer.bindPopup('<div class="popup-title">Urban Growth Boundary</div><div class="popup-desc">McMinnville UGB as acknowledged April 2021. Encompasses ~662 gross buildable acres of expansion land.</div>');

// === City Boundary ===
var cityLayer = L.polygon(cityCoords, {
  color: '#ffe0a0', weight: 1.5, fillColor: '#fffaed',
  fillOpacity: 0.12, opacity: 0.7
}).addTo(map);
cityLayer.bindPopup('<div class="popup-title">City of McMinnville</div><div class="popup-desc">Current city limits. TSP update covers entire UGB including areas outside current city limits.</div>');

// === Growth Areas ===
var gaGroup = L.layerGroup().addTo(map);
var gaLabelGroup = L.layerGroup().addTo(map);
growthAreas.forEach(function(coords, i) {
  var poly = L.polygon(coords, {
    color: '#41afa8', weight: 2, fillColor: '#41afa8',
    fillOpacity: 0.35, opacity: 0.9
  });
  poly.bindPopup('<div class="popup-title">' + gaLabels[i] + '</div><div class="popup-desc">' + gaDescs[i] + '</div>');
  gaGroup.addLayer(poly);
  
  // Label at centroid
  var bounds = poly.getBounds();
  var center = bounds.getCenter();
  var label = L.marker(center, {
    icon: L.divIcon({
      className: 'growth-label',
      html: '<div style="color:#fff;font-size:11px;font-weight:600;text-shadow:0 0 6px #000,0 0 3px #000;white-space:nowrap;text-align:center;transform:translate(-50%,-50%)">' + gaLabels[i] + '</div>',
      iconSize: [0, 0]
    })
  });
  gaLabelGroup.addLayer(label);
});

// === Corridors ===
var corGroup = L.layerGroup().addTo(map);
var corLabelGroup = L.layerGroup().addTo(map);
corridors.forEach(function(coords, i) {
  var line = L.polyline(coords, {
    color: '#f0c040', weight: 3.5, opacity: 0.85,
    dashArray: '8,6'
  });
  line.bindPopup('<div class="popup-title">' + corLabels[i] + '</div><div class="popup-desc">Key transportation corridor identified in TSP update scope.</div>');
  corGroup.addLayer(line);
  
  // Label at midpoint
  var mid = coords[Math.floor(coords.length / 2)];
  var label = L.marker(mid, {
    icon: L.divIcon({
      className: 'corridor-label',
      html: '<div style="color:#f0c040;font-size:10px;font-weight:600;text-shadow:0 0 5px #000,0 0 3px #000;white-space:nowrap;transform:translate(-50%,-50%)">' + corLabels[i] + '</div>',
      iconSize: [0, 0]
    })
  });
  corLabelGroup.addLayer(label);
});

// === Layer Controls ===
var overlays = {
  "Urban Growth Boundary": ugbLayer,
  "City Boundary": cityLayer,
  "Growth Areas": gaGroup,
  "Growth Area Labels": gaLabelGroup,
  "Key Corridors": corGroup,
  "Corridor Labels": corLabelGroup,
  "Street Map Overlay": streets,
  "Place Labels": labels
};
L.control.layers(null, overlays, {collapsed: false, position: 'topleft'}).addTo(map);

// Fit to UGB
map.fitBounds(ugbLayer.getBounds().pad(0.05));
</script>
</body>
</html>